{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport { Button, Modal, FormControl, Input, Center, Spinner, Form, NativeBaseProvider } from \"native-base\";\nimport { useState } from \"react\";\nimport tripStore from \"../../store/tripStore\";\nimport { observer } from \"mobx-react\";\nimport authStore from \"../../store/authStore\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport * as ImagePicker from \"expo-image-picker\";\n\nvar AddButton = function AddButton() {\n  var showAlert = function showAlert() {\n    return Alert.alert(\"Alert Title\", \"My Alert Msg\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return Alert.alert(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }], {\n      cancelable: true,\n      onDismiss: function onDismiss() {\n        return Alert.alert(\"This alert was dismissed by tapping outside of the alert dialog.\");\n      }\n    });\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showModal = _useState2[0],\n      setShowModal = _useState2[1];\n\n  var _useState3 = useState({\n    name: \"\",\n    title: \"\",\n    subtitle: \"\",\n    description: \"\",\n    image: \"\",\n    date: \"\"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      trip = _useState4[0],\n      setTrip = _useState4[1];\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    tripStore.createTrip(trip);\n  };\n\n  var openImagePickerAsync = function openImagePickerAsync() {\n    var permissionResult, pickerResult;\n    return _regeneratorRuntime.async(function openImagePickerAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 2:\n            permissionResult = _context.sent;\n\n            if (!(permissionResult.granted === false)) {\n              _context.next = 6;\n              break;\n            }\n\n            alert(\"Permission to access camera roll is required!\");\n            return _context.abrupt(\"return\");\n\n          case 6:\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync());\n\n          case 8:\n            pickerResult = _context.sent;\n            console.log(pickerResult);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Center, {\n    flex: 1,\n    px: \"3\"\n  }, authStore.user !== null ? React.createElement(React.Fragment, null, React.createElement(Button, {\n    onPress: function onPress() {\n      return setShowModal(true);\n    },\n    backgroundColor: \"#0000ff\"\n  }, \"+\"), React.createElement(Modal, {\n    isOpen: showModal,\n    onClose: function onClose() {\n      return setShowModal(false);\n    }\n  }, React.createElement(Modal.Content, {\n    maxWidth: \"400px\"\n  }, React.createElement(Modal.CloseButton, null), React.createElement(Modal.Header, null, \"Add A Trip\"), React.createElement(Modal.Body, null, React.createElement(FormControl, null, React.createElement(FormControl.Label, null, \"Which City?\"), React.createElement(Input, {\n    onChangeText: function onChangeText(name) {\n      return setTrip(_objectSpread(_objectSpread({}, trip), {}, {\n        name: name\n      }));\n    }\n  })), React.createElement(FormControl, null, React.createElement(FormControl.Label, null, \"Title\"), React.createElement(Input, {\n    onChangeText: function onChangeText(title) {\n      return setTrip(_objectSpread(_objectSpread({}, trip), {}, {\n        title: title\n      }));\n    }\n  })), React.createElement(FormControl, {\n    mt: \"3\"\n  }, React.createElement(FormControl.Label, null, \"Subtitle\"), React.createElement(Input, {\n    name: \"subtite\",\n    onChangeText: function onChangeText(subtitle) {\n      return setTrip(_objectSpread(_objectSpread({}, trip), {}, {\n        subtitle: subtitle\n      }));\n    }\n  })), React.createElement(FormControl, {\n    mt: \"3\"\n  }, React.createElement(FormControl, {\n    mt: \"3\"\n  }, React.createElement(FormControl.Label, null, \"Description\"), React.createElement(Input, {\n    name: \"description\",\n    onChangeText: function onChangeText(description) {\n      return setTrip(_objectSpread(_objectSpread({}, trip), {}, {\n        description: description\n      }));\n    }\n  }), React.createElement(FormControl.HelperText, null, \"250 character limit.\")), React.createElement(FormControl.Label, {\n    mt: \"3\"\n  }, \"Photo\"), React.createElement(TouchableOpacity, {\n    onPress: openImagePickerAsync\n  }, React.createElement(Text, null, \"Pick a photo\"))), React.createElement(FormControl, null, React.createElement(FormControl.Label, null, \"How long was your trip?\"), React.createElement(Input, {\n    onChangeText: function onChangeText(date) {\n      return setTrip(_objectSpread(_objectSpread({}, trip), {}, {\n        date: date\n      }));\n    }\n  }), React.createElement(FormControl.HelperText, null, \"Please use this format: YYYY-MM-DD.\"))), React.createElement(Modal.Footer, null, React.createElement(Button.Group, {\n    space: 2\n  }, React.createElement(Button, {\n    onPress: function onPress() {\n      setShowModal(false);\n    },\n    backgroundColor: \"#0000ff\"\n  }, \"Cancel\"), React.createElement(Button, {\n    onPress: handleSubmit,\n    backgroundColor: \"#0000ff\"\n  }, \"Save\")))))) : React.createElement(Button, {\n    onPress: showAlert\n  }, \"+\"));\n};\n\nexport default observer(AddButton);","map":{"version":3,"sources":["/Users/abdullahalkhaldi/Development/Traveldiary-ProjectFE-Final/Components/trips/AddButton.js"],"names":["React","Button","Modal","FormControl","Input","Center","Spinner","Form","NativeBaseProvider","useState","tripStore","observer","authStore","ImagePicker","AddButton","showAlert","Alert","alert","text","onPress","style","cancelable","onDismiss","showModal","setShowModal","name","title","subtitle","description","image","date","trip","setTrip","handleSubmit","event","preventDefault","createTrip","openImagePickerAsync","requestMediaLibraryPermissionsAsync","permissionResult","granted","launchImageLibraryAsync","pickerResult","console","log","user"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Button,\n  Modal,\n  FormControl,\n  Input,\n  Center,\n  Spinner,\n  Form,\n  NativeBaseProvider,\n  \n} from \"native-base\";\nimport { useState } from \"react\";\nimport tripStore from \"../../store/tripStore\";\nimport { observer } from \"mobx-react\";\nimport authStore from \"../../store/authStore\";\nimport { Image, Text, TouchableOpacity } from \"react-native\";\nimport * as ImagePicker from \"expo-image-picker\";\n\nconst AddButton = () => {\n    const showAlert = () =>\n  Alert.alert(\n    \"Alert Title\",\n    \"My Alert Msg\",\n    [\n      {\n        text: \"Cancel\",\n        onPress: () => Alert.alert(\"Cancel Pressed\"),\n        style: \"cancel\",\n      },\n    ],\n    {\n      cancelable: true,\n      onDismiss: () =>\n        Alert.alert(\n          \"This alert was dismissed by tapping outside of the alert dialog.\"\n        ),\n    }\n  );\n  const [showModal, setShowModal] = useState(false);\n  const [trip, setTrip] = useState({\n    name: \"\",\n    title: \"\",\n    subtitle: \"\",\n    description: \"\",\n    image: \"\",\n    date: \"\",\n  });\n\n  //   const handleChange = (event) =>\n  //     setTrip({ ...trip, [event.target.name]: event.target.value });\n\n  //   const handleImage = (event) =>\n  //     setTrip({ ...trip, image: event.target.files[0] });\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    tripStore.createTrip(trip);\n    // handleClose();\n  };\n\n  const openImagePickerAsync = async () => {\n    let permissionResult =\n      await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert(\"Permission to access camera roll is required!\");\n      return;\n    }\n\n    let pickerResult = await ImagePicker.launchImageLibraryAsync();\n    console.log(pickerResult);\n  };\n\n  return (\n    <Center flex={1} px=\"3\">\n      {authStore.user !== null ? (\n        <>\n          <Button onPress={() => setShowModal(true)} backgroundColor=\"#0000ff\">\n            +\n          </Button>\n\n          <Modal isOpen={showModal} onClose={() => setShowModal(false)}>\n            <Modal.Content maxWidth=\"400px\">\n              <Modal.CloseButton />\n              <Modal.Header>Add A Trip</Modal.Header>\n              <Modal.Body>\n                <FormControl>\n                  <FormControl.Label>Which City?</FormControl.Label>\n                  <Input onChangeText={(name) => setTrip({ ...trip, name })} />\n                </FormControl>\n                <FormControl>\n                  <FormControl.Label>Title</FormControl.Label>\n                  <Input\n                    onChangeText={(title) => setTrip({ ...trip, title })}\n                  />\n                </FormControl>\n                <FormControl mt=\"3\">\n                  <FormControl.Label>Subtitle</FormControl.Label>\n                  <Input\n                    name=\"subtite\"\n                    onChangeText={(subtitle) => setTrip({ ...trip, subtitle })}\n                  />\n                </FormControl>\n                <FormControl mt=\"3\">\n                  <FormControl mt=\"3\">\n                    <FormControl.Label>Description</FormControl.Label>\n                    <Input\n                      name=\"description\"\n                      onChangeText={(description) =>\n                        setTrip({ ...trip, description })\n                      }\n                    />\n                    <FormControl.HelperText>\n                      250 character limit.\n                    </FormControl.HelperText>\n                  </FormControl>\n\n                  <FormControl.Label mt=\"3\">Photo</FormControl.Label>\n\n                  {/* <Input  */}\n                  {/* // name=\"image\"\n                  // type=\"file\"\n                  > */}\n\n                  <TouchableOpacity onPress={openImagePickerAsync}>\n                    <Text>Pick a photo</Text>\n                  </TouchableOpacity>\n                  {/* </Input> */}\n                  {/* // name=\"image\"\n                  // type=\"file\"\n                  // // onChange={handleImage}\n                  // onChangeText={(image) => setTrip({ ...trip, image })}\n                /> */}\n                </FormControl>\n\n                <FormControl>\n                  <FormControl.Label>How long was your trip?</FormControl.Label>\n                  <Input onChangeText={(date) => setTrip({ ...trip, date })} />\n                  <FormControl.HelperText>\n                    Please use this format: YYYY-MM-DD.\n                  </FormControl.HelperText>\n                </FormControl>\n              </Modal.Body>\n\n              <Modal.Footer>\n                <Button.Group space={2}>\n                  <Button\n                    // variant=\"ghost\"\n                    onPress={() => {\n                      setShowModal(false);\n                    }}\n                    backgroundColor=\"#0000ff\"\n                  >\n                    Cancel\n                  </Button>\n                  <Button onPress={handleSubmit} backgroundColor=\"#0000ff\">\n                    Save\n                  </Button>\n                </Button.Group>\n              </Modal.Footer>\n            </Modal.Content>\n          </Modal>\n        </>\n      ) : (\n        <Button onPress={showAlert}>\n          +\n        </Button>\n      )}\n    </Center>\n  );\n};\n\nexport default observer(AddButton);\n"]},"metadata":{},"sourceType":"module"}