{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport { Popover, Button, Input, FormControl, Box, Center, NativeBaseProvider, View } from \"native-base\";\nimport { useState, useEffect } from \"react\";\nexport function UserProfileUpdate() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$ImagePicker$re, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(Platform.OS !== \"web\")) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n            case 3:\n              _await$ImagePicker$re = _context.sent;\n              status = _await$ImagePicker$re.status;\n\n              if (status !== \"granted\") {\n                alert(\"Sorry, we need camera roll permissions to make this work!\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var pickImage = function pickImage() {\n    var result, localUri, filename, match, _image;\n\n    return _regeneratorRuntime.async(function pickImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 3:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              localUri = result.uri;\n              filename = localUri.split(\"/\").pop();\n              match = /.(\\w+)$/.exec(filename);\n              _image = {\n                uri: localUri,\n                name: filename,\n                type: \"match ? image/\" + match[1] + \" : image\"\n              };\n              setTrip(_objectSpread(_objectSpread({}, trip), {}, {\n                image: _image\n              }));\n            }\n\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var initialFocusRef = React.useRef(null);\n  return React.createElement(Box, {\n    h: \"60%\",\n    w: \"100%\",\n    alignItems: \"center\",\n    marginTop: \"-200\"\n  }, React.createElement(Popover, {\n    initialFocusRef: initialFocusRef,\n    trigger: function trigger(triggerProps) {\n      return React.createElement(Button, triggerProps, \"Edit My Info\");\n    }\n  }, React.createElement(Popover.Content, {\n    width: \"56\"\n  }, React.createElement(Popover.Arrow, null), React.createElement(Popover.CloseButton, null), React.createElement(Popover.Header, null, \"Personal Details\"), React.createElement(Popover.Body, null, React.createElement(FormControl, null, React.createElement(FormControl.Label, {\n    _text: {\n      fontSize: \"xs\",\n      fontWeight: \"medium\"\n    }\n  }, \"First Name\"), React.createElement(Input, {\n    rounded: \"sm\",\n    fontSize: \"xs\",\n    backgroundColor: \"white\",\n    ref: initialFocusRef\n  })), React.createElement(FormControl, {\n    mt: \"3\"\n  }, React.createElement(FormControl.Label, {\n    _text: {\n      fontSize: \"xs\",\n      fontWeight: \"medium\"\n    }\n  }, \"Last Name\"), React.createElement(Input, {\n    rounded: \"sm\",\n    fontSize: \"xs\",\n    backgroundColor: \"white\"\n  })), React.createElement(FormControl, {\n    mt: \"3\"\n  }, React.createElement(FormControl.Label, {\n    _text: {\n      fontSize: \"xs\",\n      fontWeight: \"medium\"\n    }\n  }, \"Bio\"), React.createElement(Input, {\n    rounded: \"sm\",\n    fontSize: \"xs\",\n    backgroundColor: \"white\"\n  })), React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    }\n  }, React.createElement(Button, {\n    title: \"Pick an image from camera roll\",\n    onPress: pickImage\n  }, \"PHONE GALLERY\"), image && React.createElement(Image, {\n    source: {\n      uri: image\n    },\n    style: {\n      width: 200,\n      height: 200,\n      mt: \"3\"\n    }\n  }))), React.createElement(Popover.Footer, null, React.createElement(Button.Group, null, React.createElement(Button, {\n    colorScheme: \"coolGray\",\n    variant: \"ghost\"\n  }, \"Cancel\"), React.createElement(Button, null, \"Save\"))))));\n}\nexport default (function () {\n  return React.createElement(NativeBaseProvider, null, React.createElement(Center, {\n    flex: 1,\n    px: \"3\"\n  }, React.createElement(UserProfileUpdate, null)));\n});","map":{"version":3,"sources":["/Users/ghadah/Development/Traveldiary-ProjectFE-Final/Components/user/UserProfileUpdate.js"],"names":["React","Popover","Button","Input","FormControl","Box","Center","NativeBaseProvider","View","useState","useEffect","UserProfileUpdate","image","setImage","Platform","OS","ImagePicker","requestMediaLibraryPermissionsAsync","status","alert","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","localUri","uri","filename","split","pop","match","exec","name","type","setTrip","trip","console","log","initialFocusRef","useRef","triggerProps","fontSize","fontWeight","flex","alignItems","justifyContent","width","height","mt"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n  Popover,\n  Button,\n  Input,\n  FormControl,\n  Box,\n  Center,\n  NativeBaseProvider,\n  View\n} from \"native-base\"\nimport { useState, useEffect } from \"react\";\n\nexport function UserProfileUpdate() {\n\nconst [image, setImage] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      if (Platform.OS !== \"web\") {\n        const { status } =\n          await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (status !== \"granted\") {\n          alert(\"Sorry, we need camera roll permissions to make this work!\");\n        }\n      }\n    })();\n  }, []);\n\n  const pickImage = async () => {\n        try {\n            let result = await ImagePicker.launchImageLibraryAsync({\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                allowsEditing: true,\n                aspect: [4, 3],\n    \n                quality: 1,\n            });\n    \n            if (!result.cancelled) {\n                const localUri = result.uri;\n                const filename = localUri.split(\"/\").pop();\n                const match = /.(\\w+)$/.exec(filename);\n                const image = {\n                    uri: localUri,\n                    name: filename,\n                    type: `match ? image/${match[1]} : image`,\n                };\n                setTrip({ ...trip, image: image });\n            }\n        } catch (error) {\n            console.log(error);\n        }\n};\n\n  const initialFocusRef = React.useRef(null)\n  return (\n    <Box \n    h=\"60%\" \n    w=\"100%\" \n    alignItems=\"center\"\n    marginTop=\"-200\"\n    >\n      <Popover\n        initialFocusRef={initialFocusRef}\n        trigger={(triggerProps) => {\n          return <Button {...triggerProps}>Edit My Info</Button>\n        }}\n      >\n        <Popover.Content width=\"56\">\n          <Popover.Arrow />\n          <Popover.CloseButton />\n          {/* @ts-ignore */}\n          <Popover.Header>Personal Details</Popover.Header>\n          <Popover.Body>\n            <FormControl>\n              <FormControl.Label\n                _text={{\n                  fontSize: \"xs\",\n                  fontWeight: \"medium\",\n                }}\n              >\n                First Name\n              </FormControl.Label>\n              <Input\n                rounded=\"sm\"\n                fontSize=\"xs\"\n                backgroundColor=\"white\"\n                ref={initialFocusRef}\n              />\n            </FormControl>\n            <FormControl mt=\"3\">\n              <FormControl.Label\n                _text={{\n                  fontSize: \"xs\",\n                  fontWeight: \"medium\",\n                }}\n              >\n                Last Name\n              </FormControl.Label>\n              <Input rounded=\"sm\" fontSize=\"xs\" backgroundColor=\"white\" />\n            </FormControl>\n            <FormControl mt=\"3\">\n              <FormControl.Label\n                _text={{\n                  fontSize: \"xs\",\n                  fontWeight: \"medium\",\n                }}\n              >\n                Bio\n              </FormControl.Label>\n              <Input rounded=\"sm\" fontSize=\"xs\" backgroundColor=\"white\" />\n            </FormControl>\n            <View\n                  style={{\n                    flex: 1,\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                  }}\n                >\n                  <Button\n\n                    title=\"Pick an image from camera roll\"\n                    onPress={pickImage}\n                  >\n                    PHONE GALLERY\n                    </Button>\n                  {image && (\n                    <Image\n                      source={{ uri: image }}\n                      style={{ width: 200, height: 200, mt:\"3\" }}\n                      \n                    />\n                  )}\n                </View>\n            \n          </Popover.Body>\n          <Popover.Footer>\n            <Button.Group>\n              <Button colorScheme=\"coolGray\" variant=\"ghost\">\n                Cancel\n              </Button>\n              <Button>Save</Button>\n            </Button.Group>\n          </Popover.Footer>\n        </Popover.Content>\n      </Popover>\n    </Box>\n  )\n}\n\nexport default () => {\n  return (\n    <NativeBaseProvider>\n      <Center flex={1} px=\"3\">\n        <UserProfileUpdate />\n      </Center>\n    </NativeBaseProvider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}